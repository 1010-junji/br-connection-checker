<svg viewBox="0 0 420 320" class="architecture-svg" preserveAspectRatio="xMidYMin meet">
    <defs>
        <marker id="arrowhead-rs" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" class="arrow-head" />
        </marker>
    </defs>

    <!-- RoboServer (Self) -->
    <g class="self-text">
        <rect x="135" y="120" width="150" height="70" class="shape self-fill" />
        <text x="210" y="145" class="title-text">RoboServer</text>
        <text x="150" y="170" class="param-label">ポート:</text>
        <text x="200" y="170" class="param-value">{{ params['rsport'] || '?' }}</text>
    </g>

    <!-- DB Server (Disk Shape) -->
    <g>
        <!-- Drum body -->
        <path class="shape db-border" d="M 15,25 V 85 A 80,15 0 0 0 175,85 V 25" />
        <!-- Drum top lid -->
        <ellipse class="shape db-border" cx="95" cy="25" rx="80" ry="15" />
        <text x="95" y="30" class="title-text">DBサーバー</text>
        <text x="30" y="60" class="param-label">ホスト:</text>
        <text x="75" y="60" class="param-value">{{ params['dbhost'] || '?' }}</text>
        <text x="30" y="80" class="param-label">ポート:</text>
        <text x="75" y="80" class="param-value">{{ params['dbport'] || '?' }}</text>
    </g>

    <!-- MC Server -->
    <g>
        <rect x="240" y="20" width="170" height="80" class="shape mc-border" />
        <text x="325" y="45" class="title-text">MCサーバー</text>
        <text x="255" y="70" class="param-label">ホスト:</text>
        <text x="300" y="70" class="param-value">{{ params['mchost'] || '?' }}</text>
        <text x="255" y="90" class="param-label">ポート:</text>
        <text x="300" y="90" class="param-value">{{ params['mcport'] || '?' }}</text>
    </g>

    <!-- DAS Server -->
    <g>
        <rect x="125" y="220" width="170" height="80" class="shape das-border" />
        <text x="210" y="245" class="title-text">DAS端末</text>
        <text x="140" y="270" class="param-label">ホスト:</text>
        <text x="185" y="270" class="param-value">{{ params['dashost'] || '?' }}</text>
        <text x="140" y="290" class="param-label">ポート:</text>
        <text x="185" y="290" class="param-value">{{ params['dasport'] || '?' }}</text>
    </g>

    <!-- Arrows -->
    <path d="M 135 150 H 95 V 110" class="arrow" marker-end="url(#arrowhead-rs)" />
    <path d="M 285 150 H 325 V 110" class="arrow" marker-end="url(#arrowhead-rs)" />
    <path d="M 210 190 V 210" class="arrow" marker-end="url(#arrowhead-rs)" />
</svg>